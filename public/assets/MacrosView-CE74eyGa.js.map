{"version":3,"file":"MacrosView-CE74eyGa.js","sources":["../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconAlarm.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconArrowLeftCircle.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconArrowRightCircle.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconLoader3.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlus.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconRestore.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconTimeDuration15.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlayerRecordFilled.mjs","../../ui/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlayerStopFilled.mjs","../../ui/src/services/MacroRecordService.js","../../ui/src/stores/macrorecorder.js","../../ui/src/components/macros/MacroOverview.vue","../../ui/src/components/macros/components/MacroKey.vue","../../ui/src/components/macros/parts/RecorderOutput.vue","../../ui/src/components/macros/parts/RecorderInput.vue","../../ui/src/components/base/ContextMenu.vue","../../ui/src/components/macros/components/FixedDelayMenu.vue","../../ui/src/components/macros/components/EditKeyDialog.vue","../../ui/src/components/macros/components/EditDelayDialog.vue","../../ui/src/components/macros/components/DeleteKeyDialog.vue","../../ui/src/components/macros/components/InsertKeyDialog.vue","../../ui/src/components/macros/parts/EditDialogs.vue","../../ui/src/components/macros/parts/RecorderHeader.vue","../../ui/src/components/macros/components/ValidationErrorDialog.vue","../../ui/src/components/macros/parts/RecorderFooter.vue","../../ui/src/components/macros/MacroRecorder.vue"],"sourcesContent":["/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconAlarm = createVueComponent(\"outline\", \"alarm\", \"IconAlarm\", [[\"path\", { \"d\": \"M12 13m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 10l0 3l2 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M7 4l-2.75 2\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M17 4l2.75 2\", \"key\": \"svg-3\" }]]);\n\nexport { IconAlarm as default };\n//# sourceMappingURL=IconAlarm.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconArrowLeftCircle = createVueComponent(\"outline\", \"arrow-left-circle\", \"IconArrowLeftCircle\", [[\"path\", { \"d\": \"M17 12h-14\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M6 9l-3 3l3 3\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M19 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-2\" }]]);\n\nexport { IconArrowLeftCircle as default };\n//# sourceMappingURL=IconArrowLeftCircle.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconArrowRightCircle = createVueComponent(\"outline\", \"arrow-right-circle\", \"IconArrowRightCircle\", [[\"path\", { \"d\": \"M18 15l3 -3l-3 -3\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M5 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M7 12h14\", \"key\": \"svg-2\" }]]);\n\nexport { IconArrowRightCircle as default };\n//# sourceMappingURL=IconArrowRightCircle.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconLoader3 = createVueComponent(\"outline\", \"loader-3\", \"IconLoader3\", [[\"path\", { \"d\": \"M3 12a9 9 0 0 0 9 9a9 9 0 0 0 9 -9a9 9 0 0 0 -9 -9\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M17 12a5 5 0 1 0 -5 5\", \"key\": \"svg-1\" }]]);\n\nexport { IconLoader3 as default };\n//# sourceMappingURL=IconLoader3.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlus = createVueComponent(\"outline\", \"plus\", \"IconPlus\", [[\"path\", { \"d\": \"M12 5l0 14\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M5 12l14 0\", \"key\": \"svg-1\" }]]);\n\nexport { IconPlus as default };\n//# sourceMappingURL=IconPlus.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconRestore = createVueComponent(\"outline\", \"restore\", \"IconRestore\", [[\"path\", { \"d\": \"M3.06 13a9 9 0 1 0 .49 -4.087\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M3 4.001v5h5\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-2\" }]]);\n\nexport { IconRestore as default };\n//# sourceMappingURL=IconRestore.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconTimeDuration15 = createVueComponent(\"outline\", \"time-duration-15\", \"IconTimeDuration15\", [[\"path\", { \"d\": \"M12 15h2a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-2v-3h3\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M9 9v6\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M3 12v.01\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M12 21v.01\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M7.5 4.2v.01\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M16.5 19.8v.01\", \"key\": \"svg-5\" }], [\"path\", { \"d\": \"M7.5 19.8v.01\", \"key\": \"svg-6\" }], [\"path\", { \"d\": \"M4.2 16.5v.01\", \"key\": \"svg-7\" }], [\"path\", { \"d\": \"M19.8 16.5v.01\", \"key\": \"svg-8\" }], [\"path\", { \"d\": \"M4.2 7.5v.01\", \"key\": \"svg-9\" }], [\"path\", { \"d\": \"M21 12a9 9 0 0 0 -9 -9\", \"key\": \"svg-10\" }]]);\n\nexport { IconTimeDuration15 as default };\n//# sourceMappingURL=IconTimeDuration15.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlayerRecordFilled = createVueComponent(\"filled\", \"player-record-filled\", \"IconPlayerRecordFilled\", [[\"path\", { \"d\": \"M8 5.072a8 8 0 1 1 -3.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 3.995 -6.643z\", \"key\": \"svg-0\" }]]);\n\nexport { IconPlayerRecordFilled as default };\n//# sourceMappingURL=IconPlayerRecordFilled.mjs.map\n","/**\n * @license @tabler/icons-vue v3.31.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlayerStopFilled = createVueComponent(\"filled\", \"player-stop-filled\", \"IconPlayerStopFilled\", [[\"path\", { \"d\": \"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z\", \"key\": \"svg-0\" }]]);\n\nexport { IconPlayerStopFilled as default };\n//# sourceMappingURL=IconPlayerStopFilled.mjs.map\n","/*\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nconst keyMap = {\n  // Modifier keys\n  Control: 'Ctrl',\n  Shift: 'Shift',\n  Alt: 'Alt',\n  Meta: 'Win',\n  CapsLock: 'Caps',\n  // Special keys\n  PageUp: 'PgUp',\n  PageDown: 'PgDn',\n  ScrollLock: 'Scr Lk',\n  Insert: 'Ins',\n  Delete: 'Del',\n  Escape: 'Esc',\n  Space: 'Space',\n  // Symbol keys\n  Backquote: '`',\n  Backslash: '\\\\',\n  BracketLeft: '[',\n  BracketRight: ']',\n  Comma: ',',\n  Equal: '=',\n  Minus: '-',\n  Period: '.',\n  Quote: \"'\",\n  Semicolon: ';',\n  Slash: '/',\n  // Arrow keys\n  ArrowUp: '&#9650;',\n  ArrowRight: '&#9654;',\n  ArrowDown: '&#9660;',\n  ArrowLeft: '&#9664;',\n  // Media keys\n  MediaPlayPause: 'Play',\n  MediaStop: 'Stop',\n  MediaTrackNext: 'Next',\n  MediaTrackPrevious: 'Prev',\n  MediaVolumeDown: 'Down',\n  MediaVolumeUp: 'Up',\n  AudioVolumeMute: 'Mute',\n  AudioVolumeDown: 'Down',\n  AudioVolumeUp: 'Up',\n}\n\n/**\n * Filters a keyboard event and returns an object with two properties:\n * loc (optional) and str.\n * loc is the location of the key (either 'left', 'right', or 'num').\n * str is the string representation of the key (e.g. 'a', 'A', 'Enter', etc.).\n * If the key is a modifier key, it is represented by its name (e.g. 'Ctrl', 'Shift', etc.).\n * If the key is not a modifier key, it is represented by its character (e.g. 'a', 'A', etc.).\n * If the key is not a character key, it is represented by its symbol (e.g. ',', '.', etc.).\n * @param {KeyboardEvent} e - The keyboard event to filter.\n * @return {Object} An object with two properties: loc (optional) and str.\n */\nexport const filterKey = (e) => {\n  const k = {} // Object k (key)\n\n  // If location is set, set loc (location)\n  if (e.location === 1) k.loc = 'left'\n  if (e.location === 2) k.loc = 'right'\n  if (e.location === 3) k.loc = 'num'\n\n  if (e.key.includes('Media') || e.key.includes('Audio')) k.loc = mediaPrefix(e)\n\n  // If code is in keyMap, set str by code\n  if (keyMap[e.code] || keyMap[e.key]) {\n    k.str = keyMap[e.code] || keyMap[e.key]\n  } else {\n    // If code is not in keyMap, set str by e.key\n    k.str = e.key.toLowerCase()\n  }\n\n  // return k object\n  return k\n}\n\n/**\n * Returns a string prefix for the given media key.\n * @param {KeyboardEvent} e - The keyboard event to get the prefix for.\n * @return {string} The prefix for the key (either 'Media' or 'Volume').\n */\nconst mediaPrefix = (e) => {\n  switch (e.key) {\n    case 'MediaPlayPause':\n    case 'MediaStop':\n    case 'MediaTrackNext':\n    case 'MediaTrackPrevious':\n      return 'Media'\n    case 'MediaVolumeDown':\n    case 'MediaVolumeUp':\n    case 'AudioVolumeDown':\n    case 'AudioVolumeUp':\n    case 'AudioVolumeMute':\n      return 'Volume'\n  }\n}\n\nexport const isRepeat = (lastStep, e, direction) => {\n  return (\n    lastStep &&\n    lastStep.type === 'key' &&\n    lastStep.code === e.code &&\n    lastStep.direction === direction\n  )\n}\n\nexport const invalidMacro = (steps) => {\n  const downKeys = []\n  const upKeys = []\n\n  Object.keys(steps).forEach((stepKey) => {\n    const step = steps[stepKey]\n\n    if (step.type !== 'key') return\n\n    if (step.direction == 'down') downKeys.push(step.key)\n    if (step.direction == 'up') {\n      if (!downKeys.includes(step.key)) upKeys.push(step.key)\n      else downKeys.splice(downKeys.indexOf(step.key), 1)\n    }\n  })\n\n  if (upKeys.length === 0 && downKeys.length === 0) return false\n\n  return { down: downKeys, up: upKeys }\n}\n\nexport const translateJSON = (json) => {\n  const steps = []\n\n  json.forEach((step) => {\n    if (step.type === 'delay') steps.push(step)\n    if (step.type === 'key') steps.push(codeToStep(step.code, step.direction))\n  })\n\n  return steps\n}\n\nexport const codeToStep = (code, direction) => {\n  let key = ''\n  let location = 0\n  let codeStr = code\n\n  if (code.includes('Left')) {\n    key = code.replace('Left', '')\n    location = 1\n  }\n  if (code.includes('Right')) {\n    key = code.replace('Right', '')\n    location = 2\n  }\n  if (code.includes('Numpad')) {\n    key = code.replace('Numpad', '')\n    location = 3\n  }\n\n  if (code.includes('Media')) codeStr = ''\n\n  if (key === '') key = code\n\n  const stepObj = {\n    type: 'key',\n    code: codeStr,\n    key: key,\n    location: location,\n    direction: direction,\n  }\n\n  return { ...stepObj, keyObj: filterKey(stepObj) }\n}\n","/*\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport { ref } from 'vue'\nimport { defineStore } from 'pinia'\n\nimport { filterKey, isRepeat, invalidMacro, translateJSON } from '../services/MacroRecordService'\nimport axios from 'axios'\nimport { appUrl } from '@/services/ApiService'\n\nexport const useMacroRecorderStore = defineStore('macrorecorder', () => {\n  // Properties - State values\n  const state = ref({\n    record: false,\n    edit: false,\n    editKey: false,\n    editDelay: false,\n    validationErrors: false,\n  })\n\n  const macroName = ref('')\n\n  const steps = ref([])\n\n  const delay = ref({\n    start: 0,\n    fixed: false,\n  })\n\n  // Getters - Computed values\n  const getEditKey = () => steps.value[state.value.editKey]\n  const getAdjacentKey = (pos, includeDelay = false) => {\n    let returnVal = false\n\n    const mod = pos == 'before' ? -1 : 1\n    const keyIndex = state.value.editKey + 2 * mod\n    const delayIndex = includeDelay ? state.value.editKey + 1 * mod : false\n\n    if (steps.value[keyIndex]) returnVal = steps.value[keyIndex]\n    if (delayIndex && steps.value[delayIndex])\n      returnVal = {\n        delay: steps.value[delayIndex],\n        key: steps.value[keyIndex],\n        delayIndex: delayIndex,\n      }\n\n    return returnVal\n  }\n\n  const getEditDelay = () => steps.value[state.value.editDelay]\n\n  // Setters - Actions\n  const recordStep = (e, direction = false, key = false) => {\n    if ((e.ctrlKey, e.shiftKey, e.altKey, e.metaKey)) e.preventDefault()\n\n    const lastStep = steps.value[steps.value.length - 1]\n\n    let stepVal = {}\n\n    if (typeof e === 'object' && !isRepeat(lastStep, e, direction)) {\n      if (key === false) recordDelay()\n\n      stepVal = {\n        type: 'key',\n        key: e.key,\n        code: e.code,\n        location: e.location,\n        direction: direction,\n        keyObj: filterKey(e),\n      }\n    } else if (direction && key !== false) {\n      stepVal = steps.value[key]\n      stepVal.direction = direction\n    } else if (typeof e === 'number') {\n      stepVal = { type: 'delay', value: parseFloat(e.toFixed()) }\n    }\n\n    if (key !== false) steps.value[key] = stepVal\n    else steps.value.push(stepVal)\n  }\n\n  const recordDelay = () => {\n    if (delay.value.fixed !== false)\n      recordStep(delay.value.fixed) // Record fixed delay\n    else if (delay.value.start == 0)\n      delay.value.start = performance.now() // Record start of delay\n    else {\n      recordStep(performance.now() - delay.value.start) // Record end of delay\n      delay.value.start = performance.now() // Reset start\n    }\n  }\n\n  const insertKey = (e, direction, adjacentDelayIndex) => {\n    let min, max, newKeyIndex, newDelayIndex\n\n    if (adjacentDelayIndex === null) {\n      min = state.value.editKey == 0 ? 0 : state.value.editKey\n      max = state.value.editKey == 0 ? 1 : false\n\n      newKeyIndex = max === false ? min + 2 : min\n      newDelayIndex = min + 1\n    } else if (state.value.editKey < adjacentDelayIndex) {\n      min = state.value.editKey\n      max = adjacentDelayIndex\n      newKeyIndex = min + 2\n      newDelayIndex = min + 1\n    } else {\n      min = adjacentDelayIndex\n      max = state.value.editKey\n      newKeyIndex = min + 1\n      newDelayIndex = min + 2\n    }\n\n    if (max !== false) {\n      for (let i = Object.keys(steps.value).length - 1; i >= max; i--) {\n        steps.value[i + 2] = steps.value[i]\n      }\n    }\n\n    recordStep(e, direction, newKeyIndex)\n    recordStep(10, false, newDelayIndex)\n\n    state.value.editKey = false\n  }\n\n  const deleteEditKey = () => {\n    if (state.value.editKey === 0) steps.value.splice(state.value.editKey, 2)\n    else steps.value.splice(state.value.editKey - 1, 2)\n    state.value.editKey = false\n  }\n\n  const restartDelay = () => {\n    delay.value.start = performance.now()\n  }\n\n  const changeName = (name) => {\n    macroName.value = name\n  }\n\n  const changeDelay = (fixed) => {\n    delay.value.fixed = fixed\n\n    formatDelays()\n  }\n\n  const formatDelays = () => {\n    steps.value = steps.value.map((step) => {\n      if (step.type === 'delay' && delay.value.fixed !== false) step.value = delay.value.fixed\n      return step\n    })\n  }\n\n  const toggleEdit = (type, key) => {\n    if (type === 'key') {\n      state.value.editKey = key\n      state.value.editDelay = false\n    }\n\n    if (type === 'delay') {\n      state.value.editKey = false\n      state.value.editDelay = key\n    }\n  }\n\n  const resetEdit = () => {\n    state.value.edit = false\n    state.value.editKey = false\n    state.value.editDelay = false\n  }\n\n  const resetMacro = () => {\n    state.value.record = false\n    delay.value.start = 0\n    macroName.value = ''\n    steps.value = []\n\n    if (state.value.edit) resetEdit()\n  }\n\n  const checkMacro = async () => {\n    const resp = await axios.post(appUrl() + '/macro/check', {\n      macro: macroName.value,\n    })\n\n    return resp.data\n  }\n\n  const saveMacro = async () => {\n    state.value.validationErrors = invalidMacro(steps.value)\n\n    if (state.value.validationErrors) return false\n\n    const resp = await axios.post(appUrl() + '/macro/record', {\n      name: macroName.value,\n      steps: steps.value,\n    })\n\n    return resp.status == 200\n  }\n\n  const deleteMacro = async (macroFilename) => {\n    const resp = await axios.post(appUrl() + '/macro/delete', {\n      macro: macroFilename,\n    })\n\n    if (resp.status == 200) return resp.data\n    else return false\n  }\n\n  const openMacro = async (macroFileName, name) => {\n    const openResp = await axios.post(appUrl() + '/macro/open', {\n      macro: macroFileName,\n    })\n\n    if (openResp.data) steps.value = translateJSON(openResp.data)\n\n    macroName.value = name\n  }\n\n  return {\n    state,\n    macroName,\n    steps,\n    delay,\n    getEditKey,\n    getAdjacentKey,\n    getEditDelay,\n    recordStep,\n    insertKey,\n    deleteEditKey,\n    restartDelay,\n    changeName,\n    changeDelay,\n    toggleEdit,\n    resetEdit,\n    resetMacro,\n    checkMacro,\n    saveMacro,\n    deleteMacro,\n    openMacro,\n  }\n})\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"macro-overview mcrm-block block__dark\">\n    <h4 class=\"border-b-2 border-transparent\">Saved Macros</h4>\n    <div class=\"macro-overview__list\">\n      <LoadComp :loading=\"macros.loading\" text=\"Loading macros...\" />\n      <div class=\"macro-item\" v-for=\"(macro, i) in macros.list\" :key=\"i\">\n        <ButtonComp\n          :variant=\"macroRecorder.macroName === macro.name ? 'secondary' : 'dark'\"\n          class=\"overview__macro-open\"\n          size=\"sm\"\n          @click=\"macroRecorder.openMacro(macro.macroname, macro.name)\"\n        >\n          <IconKeyboard /> <span>{{ macro.name }}</span>\n        </ButtonComp>\n        <div class=\"overview__macro-delete\">\n          <ButtonComp\n            class=\"!text-red-500 hover:!text-red-300\"\n            variant=\"ghost\"\n            size=\"sm\"\n            @click=\"startDelete(macro.name)\"\n          >\n            <IconTrash />\n          </ButtonComp>\n        </div>\n      </div>\n    </div>\n    <DialogComp ref=\"deleteDialog\">\n      <template #content>\n        <div class=\"grid gap-2\">\n          <h4 class=\"pr-4\">Are you sure you want to delete:</h4>\n          <h3 class=\"mb-2 text-center text-sky-500\">{{ macroToBeDeleted }}</h3>\n          <div class=\"flex justify-between\">\n            <ButtonComp size=\"sm\" variant=\"subtle\" @click=\"deleteDialog.toggleDialog(false)\">\n              No\n            </ButtonComp>\n            <ButtonComp size=\"sm\" variant=\"danger\" @click=\"deleteMacro()\">Yes</ButtonComp>\n          </div>\n        </div>\n      </template>\n    </DialogComp>\n  </div>\n</template>\n\n<script setup>\n// TODO\n// - delete macro\n\nimport { IconKeyboard, IconTrash } from '@tabler/icons-vue'\nimport ButtonComp from '../base/ButtonComp.vue'\nimport { onMounted, reactive, ref } from 'vue'\nimport { GetMacroList } from '@/services/MacroService'\nimport LoadComp from '../base/LoadComp.vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport DialogComp from '../base/DialogComp.vue'\n\nconst macros = reactive({\n  loading: true,\n  list: [],\n})\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst macroToBeDeleted = ref('')\nconst deleteDialog = ref()\n\nonMounted(() => {\n  loadMacroList()\n})\n\nconst loadMacroList = async () => {\n  const list = await GetMacroList()\n  macros.list = list\n  macros.loading = false\n}\n\nconst startDelete = (macroFilename) => {\n  macroToBeDeleted.value = macroFilename\n  deleteDialog.value.toggleDialog(true)\n}\n\nconst deleteMacro = async () => {\n  const resp = await macroRecorder.deleteMacro(macroToBeDeleted.value)\n\n  if (resp) {\n    deleteDialog.value.toggleDialog(false)\n\n    if (macroToBeDeleted.value === macroRecorder.macroName) macroRecorder.resetMacro()\n\n    macroToBeDeleted.value = ''\n    loadMacroList()\n  }\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.macro-overview {\n  @apply relative\n  grid\n  grid-rows-[auto_1fr];\n\n  &::after {\n    @apply content-['']\n    absolute\n    top-0\n    left-full\n    h-full\n    w-px\n    bg-slate-600;\n  }\n\n  .macro-overview__list {\n    @apply flex\n    flex-col \n    pr-1\n    -mr-1\n    gap-1\n    h-[calc(100vh-11.7rem)]\n    overflow-auto;\n  }\n\n  .macro-item {\n    @apply grid items-center grid-cols-[1fr_0fr] transition-[grid-template-columns] delay-0 duration-300;\n\n    &:hover {\n      @apply grid-cols-[1fr_auto] delay-500;\n    }\n\n    button.overview__macro-open {\n      @apply w-full grid grid-cols-[1rem_1fr] justify-items-start;\n\n      span {\n        @apply truncate w-full text-left;\n      }\n    }\n\n    div.overview__macro-delete {\n      @apply grid overflow-hidden transition;\n    }\n  }\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <kbd :class=\"`${active ? 'active' : ''} ${empty ? 'empty' : ''}`\">\n    <template v-if=\"keyObj\">\n      <sup v-if=\"keyObj.loc\">\n        {{ keyObj.loc }}\n      </sup>\n      <span :innerHTML=\"keyObj.str\" />\n      <span class=\"dir\">{{ dir.value === 'down' ? '&darr;' : '&uarr;' }}</span>\n    </template>\n\n    <template v-else-if=\"empty\">\n      <span>[ ]</span>\n    </template>\n  </kbd>\n</template>\n\n<script setup>\nimport { onMounted, onUpdated, reactive } from 'vue'\n\nconst props = defineProps({\n  keyObj: Object,\n  direction: String,\n  active: Boolean,\n  empty: Boolean,\n})\n\nconst dir = reactive({\n  value: false,\n})\n\nonMounted(() => {\n  if (props.empty) return\n  setDirection()\n})\n\nonUpdated(() => {\n  setDirection()\n})\n\nconst setDirection = () => {\n  if (props.direction) dir.value = props.direction\n  else dir.value = props.keyObj.direction\n}\n</script>\n\n<style>\n@reference \"@/assets/main.css\";\n\nkbd {\n  @apply flex \n  items-center\n  gap-2\n  pl-4 pr-2 py-1 \n  h-9 \n  bg-slate-700\n  font-mono\n  font-bold\n  text-lg\n  text-white\n  whitespace-nowrap\n  uppercase\n  rounded-md \n  border\n  border-slate-500\n  transition-all\n  shadow-slate-500;\n  box-shadow: 0 0.2rem 0 0.2rem var(--tw-shadow-color);\n\n  &:has(sup) {\n    @apply pl-2;\n  }\n\n  sup {\n    @apply text-slate-200 text-xs font-light mt-1;\n  }\n\n  span.dir {\n    @apply text-slate-200 pl-1;\n  }\n\n  &.empty {\n    @apply pl-3 pr-3 \n    bg-sky-400/50\n    border-sky-300\n    shadow-sky-600\n    tracking-widest\n    cursor-pointer;\n  }\n  &.insert {\n    @apply bg-yellow-500/50 \n    border-yellow-300 \n    shadow-yellow-600 \n    cursor-pointer;\n  }\n}\n\n:has(kdb):not(.edit) kbd {\n  @apply pointer-events-none cursor-default;\n}\n\n.edit kbd {\n  @apply cursor-pointer pointer-events-auto;\n\n  &:hover,\n  &.active {\n    @apply bg-sky-900 border-sky-400 shadow-sky-700;\n  }\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div\n    :class=\"`macro-recorder__output ${macroRecorder.state.record && 'record'} ${macroRecorder.state.edit && 'edit'}`\"\n  >\n    <template v-for=\"(step, key) in macroRecorder.steps\">\n      <!-- Key element -->\n      <template v-if=\"step.type === 'key'\">\n        <MacroKey\n          :key=\"key\"\n          :key-obj=\"step.keyObj\"\n          :direction=\"step.direction\"\n          :active=\"macroRecorder.state.editKey === key\"\n          @click=\"macroRecorder.state.edit ? macroRecorder.toggleEdit('key', key) : false\"\n        />\n      </template>\n\n      <!-- Delay element -->\n      <template v-else-if=\"step.type === 'delay'\">\n        <DelaySpan\n          :key=\"key\"\n          :value=\"step.value\"\n          :active=\"macroRecorder.state.editDelay === key\"\n          @click=\"macroRecorder.toggleEdit('delay', key)\"\n        />\n      </template>\n\n      <!-- Spacer element -->\n      <hr class=\"spacer\" />\n    </template>\n  </div>\n</template>\n\n<script setup>\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport MacroKey from '../components/MacroKey.vue'\nimport DelaySpan from '../components/DelaySpan.vue'\n\nconst macroRecorder = useMacroRecorderStore()\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.macro-recorder__output {\n  @apply flex\n  flex-wrap\n  items-center\n  gap-y-4\n  p-4\n  absolute\n  top-0 left-0\n  h-fit;\n}\n\nhr.spacer:last-of-type {\n  @apply hidden;\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div :class=\"`recorder-input__container ${macroRecorder.state.record && 'record'}`\">\n    <input\n      v-if=\"macroRecorder.state.record\"\n      :class=\"`macro-recorder__input ${macroRecorder.state.record && 'record'}`\"\n      type=\"text\"\n      ref=\"macroInput\"\n      @keydown.prevent=\"macroRecorder.recordStep($event, 'down')\"\n      @keyup.prevent=\"macroRecorder.recordStep($event, 'up')\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport { ref, onUpdated } from 'vue'\n\nconst macroInput = ref(null)\n\nconst macroRecorder = useMacroRecorderStore()\n\nonUpdated(() => {\n  if (macroRecorder.state.record) {\n    macroInput.value.focus()\n    if (macroRecorder.delay.start !== 0) macroRecorder.restartDelay()\n  }\n})\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.recorder-input__container,\n.macro-recorder__input {\n  @apply absolute\n    inset-0\n    size-full\n    opacity-0\n    hidden;\n\n  &.record {\n    @apply block;\n  }\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"context-menu\">\n    <div class=\"context-menu__trigger\" @click=\"toggle\">\n      <slot name=\"trigger\" />\n    </div>\n    <div :class=\"`context-menu__content ${menuOpen ? 'open' : ''}`\">\n      <slot name=\"content\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUpdated } from 'vue'\n\ndefineExpose({ toggle })\n\nconst props = defineProps({\n  open: Boolean,\n})\n\nconst menuOpen = ref(false)\n\nonMounted(() => {\n  menuOpen.value = props.open\n})\n\nfunction toggle() {\n  menuOpen.value = !menuOpen.value\n}\n</script>\n\n<style>\n@reference \"@/assets/main.css\";\n\n.context-menu {\n  @apply relative;\n\n  .context-menu__content {\n    @apply absolute\n    top-full\n    -translate-y-full\n    opacity-0\n    pointer-events-none\n    mt-2\n    min-w-full\n    grid\n    border\n    border-white/50\n    bg-slate-100/60\n    backdrop-blur-3xl\n    text-slate-800\n    rounded-md\n    z-50\n    transition-all;\n\n    &.open {\n      @apply translate-y-0\n      opacity-100\n      pointer-events-auto;\n    }\n  }\n}\n\n.context-menu ul {\n  @apply text-slate-800\n  divide-y\n  divide-slate-300;\n\n  li {\n    @apply flex\n    gap-2\n    items-center\n    p-2\n    hover:bg-black/10\n    cursor-pointer;\n\n    svg {\n      @apply size-5;\n    }\n  }\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <ContextMenu ref=\"ctxtMenu\">\n    <template #trigger>\n      <ButtonComp variant=\"secondary\" size=\"sm\"> <IconTimeDuration15 />Fixed delay </ButtonComp>\n    </template>\n    <template #content>\n      <ul>\n        <li @click=\"changeDelay(0)\">0ms</li>\n        <li @click=\"changeDelay(15)\">15ms</li>\n        <li @click=\"changeDelay(50)\">50ms</li>\n        <li @click=\"changeDelay(100)\">100ms</li>\n        <li>\n          <DialogComp>\n            <template #trigger>\n              <span>Custom delay</span>\n            </template>\n\n            <template #content>\n              <h4 class=\"text-slate-50 mb-4\">Custom delay</h4>\n              <form\n                class=\"grid gap-4 w-44\"\n                @submit.prevent=\"changeDelay(parseInt($refs.customDelayInput.value))\"\n              >\n                <div>\n                  <input\n                    type=\"number\"\n                    step=\"10\"\n                    min=\"0\"\n                    max=\"3600000\"\n                    ref=\"customDelayInput\"\n                    placeholder=\"100\"\n                  />\n                  <span>ms</span>\n                </div>\n                <div class=\"flex justify-end\">\n                  <ButtonComp variant=\"primary\" size=\"sm\">Set custom delay</ButtonComp>\n                </div>\n              </form>\n            </template>\n          </DialogComp>\n        </li>\n      </ul>\n    </template>\n  </ContextMenu>\n</template>\n\n<script setup>\nimport ContextMenu from '@/components/base/ContextMenu.vue'\nimport { IconTimeDuration15 } from '@tabler/icons-vue'\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport DialogComp from '@/components/base/DialogComp.vue'\n\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\n\nimport { ref } from 'vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst ctxtMenu = ref()\n\nfunction changeDelay(num) {\n  macroRecorder.changeDelay(num)\n  ctxtMenu.value.toggle()\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div id=\"edit-key-dialog\" class=\"dialog__content\">\n    <h4 class=\"text-slate-50 mb-4\">Press a key</h4>\n    <div class=\"flex justify-center\" @click=\"$refs.newKeyInput.focus()\">\n      <MacroKey\n        v-if=\"editable.key.keyObj\"\n        :key-obj=\"editable.key.keyObj\"\n        :direction=\"editable.key.direction\"\n      />\n\n      <template v-if=\"typeof editable.newKey.keyObj === 'object'\">\n        <span class=\"px-4 flex items-center text-white\"> >>> </span>\n        <MacroKey :key-obj=\"editable.newKey.keyObj\" :direction=\"editable.newKey.direction\" />\n      </template>\n    </div>\n    <form class=\"grid gap-4\" submit.prevent>\n      <input\n        class=\"size-0 opacity-0\"\n        type=\"text\"\n        min=\"0\"\n        max=\"1\"\n        ref=\"newKeyInput\"\n        placeholder=\"New key\"\n        autofocus\n        @keydown.prevent=\"handleNewKey($event)\"\n      />\n      <div class=\"flex gap-2 justify-center\">\n        <ButtonComp\n          variant=\"secondary\"\n          :class=\"editable.newKey.direction === 'down' ? 'selected' : ''\"\n          size=\"sm\"\n          @click.prevent=\"handleNewDirection('down')\"\n        >\n          &darr; Down\n        </ButtonComp>\n        <ButtonComp\n          variant=\"secondary\"\n          :class=\"editable.newKey.direction === 'up' ? 'selected' : ''\"\n          size=\"sm\"\n          @click.prevent=\"handleNewDirection('up')\"\n        >\n          &uarr; Up\n        </ButtonComp>\n      </div>\n      <div class=\"flex justify-end\">\n        <ButtonComp variant=\"primary\" size=\"sm\" @click.prevent=\"changeKey()\">\n          Change key\n        </ButtonComp>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport MacroKey from './MacroKey.vue'\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport { filterKey } from '@/services/MacroRecordService'\n\nimport { reactive, ref, onMounted } from 'vue'\n\nconst editable = reactive({\n  key: {},\n  newKey: {},\n})\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst newKeyInput = ref(null)\n\nonMounted(() => {\n  editable.key = macroRecorder.getEditKey()\n  editable.newKey.direction = editable.key.direction\n})\n\nconst handleNewKey = (e) => {\n  editable.newKey.e = e\n  editable.newKey.keyObj = filterKey(e)\n}\n\nconst handleNewDirection = (direction) => {\n  editable.newKey.direction = direction\n  editable.newKey.keyObj = filterKey(editable.key)\n}\n\nconst changeKey = () => {\n  macroRecorder.recordStep(\n    editable.newKey.e,\n    editable.newKey.direction,\n    macroRecorder.state.editKey,\n  )\n\n  macroRecorder.state.editKey = false\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\nbutton.selected {\n  @apply ring-2 ring-offset-1 ring-sky-500 bg-sky-500;\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div id=\"edit-delay-dialog\" class=\"dialog__content\">\n    <h4 class=\"mb-4 text-slate-50\">Edit delay</h4>\n    <div v-if=\"editable.delay.value\" class=\"flex justify-center\">\n      <DelaySpan class=\"!text-lg\" :value=\"editable.delay.value\" />\n    </div>\n    <form class=\"grid gap-4 mt-6\" submit.prevent>\n      <div v-if=\"editable.newDelay.value\">\n        <input\n          type=\"number\"\n          min=\"0\"\n          max=\"3600000\"\n          step=\"10\"\n          v-model=\"editable.newDelay.value\"\n          autofocus\n        />\n        <span>ms</span>\n      </div>\n      <div class=\"flex justify-end\">\n        <ButtonComp variant=\"primary\" size=\"sm\" @click.prevent=\"changeDelay()\">\n          Change delay\n        </ButtonComp>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport { reactive, onMounted } from 'vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport DelaySpan from './DelaySpan.vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst editable = reactive({\n  delay: {},\n  newDelay: { value: 0 },\n})\n\nonMounted(() => {\n  editable.delay = macroRecorder.getEditDelay()\n  editable.newDelay.value = editable.delay.value\n})\n\nconst changeDelay = () => {\n  if (!editable.newDelay.value) return\n\n  macroRecorder.recordStep(editable.newDelay.value, false, macroRecorder.state.editDelay)\n  macroRecorder.state.editDelay = false\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div id=\"delete-key-dialog\" class=\"dialog__content\">\n    <h4 class=\"mb-4 text-slate-50\">Delete key</h4>\n    <div class=\"flex justify-center w-full mb-4\">\n      <MacroKey v-if=\"keyObj\" :key-obj=\"keyObj\" />\n    </div>\n    <p class=\"text-sm text-slate-300\">Are you sure you want to delete this key?</p>\n    <div class=\"flex justify-end gap-2 mt-6\">\n      <ButtonComp variant=\"danger\" size=\"sm\" @click=\"macroRecorder.deleteEditKey()\">\n        Delete key\n      </ButtonComp>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport { onMounted, ref } from 'vue'\nimport MacroKey from './MacroKey.vue'\nimport { filterKey } from '@/services/MacroRecordService'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst keyObj = ref(null)\n\nonMounted(() => {\n  keyObj.value = filterKey(macroRecorder.getEditKey())\n})\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n</style>\n'\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div id=\"insert-key-dialog\" class=\"dialog__content w-96\">\n    <h4 class=\"text-slate-50 mb-4\">Insert key {{ position }}</h4>\n    <p v-if=\"inputFocus\" class=\"text-center\">[Press a key]</p>\n    <input\n      class=\"size-0 opacity-0\"\n      type=\"text\"\n      min=\"0\"\n      max=\"1\"\n      ref=\"insertKeyInput\"\n      placeholder=\"New key\"\n      @focusin=\"inputFocus = true\"\n      @focusout=\"inputFocus = false\"\n      @keydown.prevent=\"handleInsertKey($event)\"\n      autofocus\n    />\n    <div class=\"insert-output\" :class=\"position == 'before' ? 'flex-row-reverse' : ''\">\n      <MacroKey v-if=\"keyObjs.selected\" :key-obj=\"keyObjs.selected\" />\n      <hr class=\"spacer\" />\n      <DelaySpan :preset=\"true\" :value=\"10\" />\n      <hr class=\"spacer\" />\n      <MacroKey\n        v-if=\"keyObjs.insert\"\n        class=\"insert\"\n        :key-obj=\"keyObjs.insert\"\n        :direction=\"keyObjs.insertDirection\"\n        @click=\"insertKeyInput.focus()\"\n      />\n      <MacroKey v-if=\"!keyObjs.insert\" :empty=\"true\" @click=\"insertKeyInput.focus()\" />\n      <template v-if=\"keyObjs.adjacentDelay\">\n        <hr class=\"spacer\" />\n        <DelaySpan :value=\"keyObjs.adjacentDelay.value\" />\n      </template>\n      <template v-if=\"keyObjs.adjacent\">\n        <hr class=\"spacer\" />\n        <MacroKey :key-obj=\"keyObjs.adjacent\" />\n      </template>\n    </div>\n    <div class=\"insert-key__direction\">\n      <ButtonComp\n        variant=\"secondary\"\n        :class=\"keyObjs.insertDirection === 'down' ? 'selected' : ''\"\n        size=\"sm\"\n        @click.prevent=\"keyObjs.insertDirection = 'down'\"\n      >\n        &darr; Down\n      </ButtonComp>\n      <ButtonComp\n        variant=\"secondary\"\n        :class=\"keyObjs.insertDirection === 'up' ? 'selected' : ''\"\n        size=\"sm\"\n        @click.prevent=\"keyObjs.insertDirection = 'up'\"\n      >\n        &uarr; Up\n      </ButtonComp>\n    </div>\n    <div class=\"flex justify-end\">\n      <ButtonComp variant=\"primary\" size=\"sm\" @click=\"insertKey()\">Insert key</ButtonComp>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport MacroKey from './MacroKey.vue'\nimport DelaySpan from './DelaySpan.vue'\nimport ButtonComp from '@/components/base/ButtonComp.vue'\n\nimport { onMounted, reactive, ref } from 'vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport { filterKey } from '@/services/MacroRecordService'\n\nconst props = defineProps({\n  position: String,\n})\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst keyObjs = reactive({\n  selected: null,\n  insert: null,\n  insertEvent: null,\n  insertDirection: 'down',\n  adjacent: null,\n  adjacentDelay: null,\n  adjacentDelayIndex: null,\n})\n\nconst insertKeyInput = ref(null)\nconst inputFocus = ref(false)\n\nonMounted(() => {\n  keyObjs.selected = filterKey(macroRecorder.getEditKey())\n\n  const adjacentKey = macroRecorder.getAdjacentKey(props.position, true)\n  if (adjacentKey) keyObjs.adjacent = filterKey(adjacentKey.key)\n  if (adjacentKey.delay) {\n    keyObjs.adjacentDelay = adjacentKey.delay\n    keyObjs.adjacentDelayIndex = adjacentKey.delayIndex\n  }\n})\n\nconst handleInsertKey = (e) => {\n  keyObjs.insert = filterKey(e)\n  keyObjs.insertEvent = e\n}\n\nconst insertKey = () => {\n  macroRecorder.insertKey(keyObjs.insertEvent, keyObjs.insertDirection, keyObjs.adjacentDelayIndex)\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.insert-output {\n  @apply flex \n  justify-center \n  items-center \n  w-full \n  mb-4;\n}\n.insert-key__direction {\n  @apply flex\n  justify-center\n  gap-2\n  mt-6;\n}\nbutton.selected {\n  @apply bg-sky-500\n  ring-2 \n  ring-offset-1 \n  ring-sky-500;\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"macro-edit__dialogs\" v-if=\"macroRecorder.state.edit !== false\">\n    <div\n      class=\"flex gap-2\"\n      v-if=\"macroRecorder.state.editKey !== false && typeof macroRecorder.getEditKey() === 'object'\"\n    >\n      <ContextMenu ref=\"ctxtMenu\">\n        <template #trigger>\n          <ButtonComp variant=\"dark\" size=\"sm\"> <IconPlus /> Insert </ButtonComp>\n        </template>\n        <template #content>\n          <ul>\n            <li @click=\"insert.position = 'before'\"><IconArrowLeftCircle /> Before</li>\n            <li @click=\"insert.position = 'after'\"><IconArrowRightCircle /> After</li>\n          </ul>\n        </template>\n      </ContextMenu>\n\n      <DialogComp\n        v-if=\"insert.position !== null\"\n        :open=\"insert.position !== null\"\n        @on-open=\"onOpenDialog\"\n        @on-close=\"onCloseDialog\"\n      >\n        <template #content>\n          <InsertKeyDialog :position=\"insert.position\" />\n        </template>\n      </DialogComp>\n\n      <DialogComp\n        :id=\"`edit-key-${macroRecorder.state.editKey}`\"\n        @on-open=\"onOpenDialog\"\n        @on-close=\"onCloseDialog\"\n      >\n        <template #trigger>\n          <ButtonComp variant=\"secondary\" size=\"sm\"> <IconPencil />Edit </ButtonComp>\n        </template>\n        <template #content>\n          <EditKeyDialog />\n        </template>\n      </DialogComp>\n\n      <DialogComp @on-open=\"onOpenDialog\" @on-close=\"onCloseDialog\">\n        <template #trigger>\n          <ButtonComp size=\"sm\" variant=\"danger\"> <IconTrash />Delete </ButtonComp>\n        </template>\n        <template #content>\n          <DeleteKeyDialog />\n        </template>\n      </DialogComp>\n    </div>\n    <DialogComp\n      v-if=\"\n        macroRecorder.state.editDelay !== false && typeof macroRecorder.getEditDelay() === 'object'\n      \"\n      @on-open=\"onOpenDialog\"\n      @on-close=\"onCloseDialog\"\n    >\n      <template #trigger>\n        <ButtonComp variant=\"secondary\" size=\"sm\"> <IconAlarm />Edit </ButtonComp>\n      </template>\n      <template #content>\n        <EditDelayDialog />\n      </template>\n    </DialogComp>\n  </div>\n</template>\n\n<script setup>\nimport {\n  IconAlarm,\n  IconArrowLeftCircle,\n  IconArrowRightCircle,\n  IconPencil,\n  IconPlus,\n  IconTrash,\n} from '@tabler/icons-vue'\nimport DialogComp from '@/components/base/DialogComp.vue'\nimport ButtonComp from '@/components/base/ButtonComp.vue'\n\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport EditKeyDialog from '../components/EditKeyDialog.vue'\nimport EditDelayDialog from '../components/EditDelayDialog.vue'\nimport DeleteKeyDialog from '../components/DeleteKeyDialog.vue'\nimport ContextMenu from '@/components/base/ContextMenu.vue'\nimport InsertKeyDialog from '../components/InsertKeyDialog.vue'\nimport { onMounted, reactive, ref } from 'vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst insert = reactive({ position: null })\nconst ctxtMenu = ref()\n\nonMounted(() => {\n  macroRecorder.$subscribe((mutation) => {\n    if (mutation.events && mutation.events.key == 'editKey' && mutation.events.newValue === false) {\n      insert.position = null\n    }\n  })\n})\n\nfunction onOpenDialog() {\n  if (insert.position !== null) ctxtMenu.value.toggle()\n}\nfunction onCloseDialog() {\n  macroRecorder.state.editKey = false\n  macroRecorder.state.editDelay = false\n\n  insert.position = null\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.macro-edit__dialogs {\n  @apply flex\n  flex-grow\n  justify-end;\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"macro-recorder__header\">\n    <div class=\"w-full grid grid-cols-[auto_1fr_auto] gap-2\">\n      <h4 class=\"\">Name:</h4>\n\n      <input\n        id=\"macro-name\"\n        type=\"text\"\n        @input.prevent=\"changeName($event.target.value)\"\n        :value=\"macroName\"\n        placeholder=\"New macro\"\n      />\n      <div :class=\"`recording__buttons ${!nameSet || macroRecorder.state.edit ? 'disabled' : ''}`\">\n        {{ macroRecorder.name }}\n        <ButtonComp\n          v-if=\"!macroRecorder.state.record\"\n          variant=\"primary\"\n          @click=\"macroRecorder.state.record = true\"\n        >\n          <IconPlayerRecordFilled class=\"text-red-500\" />Record\n        </ButtonComp>\n        <ButtonComp\n          v-if=\"macroRecorder.state.record\"\n          variant=\"danger\"\n          @click=\"macroRecorder.state.record = false\"\n        >\n          <IconPlayerStopFilled class=\"text-white\" />Stop\n        </ButtonComp>\n      </div>\n    </div>\n    <div\n      v-if=\"macroRecorder.steps.length > 0\"\n      :class=\"`edit__buttons ${macroRecorder.state.record ? 'disabled' : ''}`\"\n    >\n      <div>\n        <ButtonComp\n          v-if=\"!macroRecorder.state.edit\"\n          variant=\"secondary\"\n          @click=\"macroRecorder.state.edit = true\"\n        >\n          <IconPencil />Edit\n        </ButtonComp>\n        <ButtonComp\n          v-if=\"macroRecorder.state.edit\"\n          variant=\"danger\"\n          @click=\"macroRecorder.resetEdit()\"\n        >\n          <IconPlayerStopFilled />Stop\n        </ButtonComp>\n      </div>\n\n      <FixedDelayMenu v-if=\"macroRecorder.state.edit\" />\n\n      <EditDialogs />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { IconPencil, IconPlayerRecordFilled, IconPlayerStopFilled } from '@tabler/icons-vue'\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport FixedDelayMenu from '../components/FixedDelayMenu.vue'\n\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport EditDialogs from './EditDialogs.vue'\nimport { computed, onUpdated, ref } from 'vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst macroName = computed(() => macroRecorder.macroName)\n\nconst nameSet = ref(false)\n\nonUpdated(() => {\n  nameSet.value = macroName.value && macroName.value.length > 0\n})\n\nfunction changeName(name) {\n  macroRecorder.changeName(name)\n  nameSet.value = name.length > 0\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.macro-recorder__header {\n  @apply grid \n  gap-4\n  w-full;\n\n  .edit__buttons {\n    @apply flex\n    justify-between\n    gap-2\n    w-full;\n  }\n\n  > div {\n    @apply flex gap-2 items-end;\n  }\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div id=\"validation-error__dialog\" class=\"dialog__content\">\n    <h4 class=\"mb-4 text-slate-50\">There's an error in your macro</h4>\n\n    <div class=\"grid gap-4\" v-if=\"(errors && errors.up.length > 0) || errors.down.length > 0\">\n      <div v-if=\"errors.down.length > 0\">\n        <p>\n          The following keys have been <strong>pressed</strong> down, but\n          <strong>not released</strong>.\n        </p>\n        <ul>\n          <li v-for=\"key in errors.down\" :key=\"key\">{{ key.toUpperCase() }}</li>\n        </ul>\n      </div>\n\n      <div v-if=\"errors.up.length > 0\">\n        <p>\n          The following keys have been <strong>released</strong>, but\n          <strong>not pressed</strong> down.\n        </p>\n        <ul>\n          <li v-for=\"key in errors.up\" :key=\"key\">{{ key.toUpperCase() }}</li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"flex justify-end mt-4\">\n      <ButtonComp size=\"sm\" variant=\"danger\" @click=\"macroRecorder.state.validationErrors = false\">\n        Close\n      </ButtonComp>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport { onMounted, reactive } from 'vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst errors = reactive({\n  up: [],\n  down: [],\n})\n\nonMounted(() => {\n  macroRecorder.$subscribe((mutation) => {\n    if (mutation.events && mutation.events.key == 'validationErrors') {\n      errors.up = mutation.events.newValue !== false ? macroRecorder.state.validationErrors.up : []\n      errors.down =\n        mutation.events.newValue !== false ? macroRecorder.state.validationErrors.down : []\n    }\n  })\n})\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"macro-recorder__footer\">\n    <ButtonComp\n      v-if=\"macroRecorder.steps.length > 0\"\n      variant=\"danger\"\n      @click=\"macroRecorder.reset()\"\n    >\n      <IconRestore /> Reset\n    </ButtonComp>\n\n    <DialogComp ref=\"errorDialog\">\n      <template #content>\n        <ValidationErrorDialog />\n      </template>\n    </DialogComp>\n    <DialogComp ref=\"overwriteDialog\">\n      <template #content>\n        <div class=\"grid gap-2\">\n          <h4 class=\"pr-4\">Are you sure you want to overwrite:</h4>\n          <h3 class=\"mb-2 text-center text-sky-500\">{{ macroRecorder.macroName }}</h3>\n          <div class=\"flex justify-between\">\n            <ButtonComp size=\"sm\" variant=\"subtle\" @click=\"overwriteDialog.toggleDialog(false)\"\n              >No</ButtonComp\n            >\n            <ButtonComp size=\"sm\" variant=\"primary\" @click=\"saveMacro()\">Yes</ButtonComp>\n          </div>\n        </div>\n      </template>\n    </DialogComp>\n\n    <ButtonComp\n      v-if=\"macroRecorder.steps.length > 0\"\n      :disabled=\"macroRecorder.state.record || macroRecorder.state.edit\"\n      variant=\"success\"\n      @click=\"startCheck()\"\n    >\n      <IconDeviceFloppy />\n      Save\n    </ButtonComp>\n  </div>\n</template>\n\n<script setup>\nimport ButtonComp from '@/components/base/ButtonComp.vue'\nimport { IconDeviceFloppy, IconRestore } from '@tabler/icons-vue'\n\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport DialogComp from '@/components/base/DialogComp.vue'\nimport ValidationErrorDialog from '../components/ValidationErrorDialog.vue'\nimport { onMounted, ref } from 'vue'\n\nconst macroRecorder = useMacroRecorderStore()\n\nconst errorDialog = ref()\nconst overwriteDialog = ref()\n\nonMounted(() => {\n  macroRecorder.$subscribe((mutation) => {\n    if (mutation.events && mutation.events.key == 'validationErrors') {\n      errorDialog.value.toggleDialog(mutation.events.newValue !== false)\n    }\n  })\n})\n\nconst startCheck = async () => {\n  const checkResp = await macroRecorder.checkMacro()\n\n  if (checkResp) overwriteDialog.value.toggleDialog(true)\n  else saveMacro()\n}\n\nconst saveMacro = async () => {\n  overwriteDialog.value.toggleDialog(false)\n\n  const saveResp = await macroRecorder.saveMacro()\n\n  if (!saveResp) errorDialog.value.toggleDialog(true)\n  else window.location.reload()\n}\n</script>\n\n<style scoped>\n@reference \"@/assets/main.css\";\n\n.macro-recorder__footer {\n  @apply flex\n  justify-between\n  gap-2;\n}\n</style>\n","<!--\nMacrame is a program that enables the user to create keyboard macros and button panels. \nThe macros are saved as simple JSON files and can be linked to the button panels. The panels can \nbe created with HTML and CSS.\n\nCopyright (C) 2025 Jesse Malotaux\n\nThis program is free software: you can redistribute it and/or modify \nit under the terms of the GNU General Public License as published by \nthe Free Software Foundation, either version 3 of the License, or \n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful, \nbut WITHOUT ANY WARRANTY; without even the implied warranty of \nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License \nalong with this program. If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n  <div class=\"macro-recorder mcrm-block block__light\">\n    <div class=\"recorder-interface\">\n      <!-- Recorder buttons -->\n      <RecorderHeader />\n\n      <!-- Recorder interface container -->\n      <div\n        :class=\"`recorder-interface__container ${macroRecorder.state.record && 'record'} ${macroRecorder.state.edit && 'edit'}`\"\n      >\n        <!-- Shows the macro steps as kbd elements with delay and spacers-->\n        <RecorderOutput />\n        <!-- Input for recording macro steps -->\n        <RecorderInput />\n      </div>\n\n      <RecorderFooter />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport RecorderOutput from './parts/RecorderOutput.vue'\nimport RecorderInput from './parts/RecorderInput.vue'\n\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\nimport RecorderHeader from './parts/RecorderHeader.vue'\nimport RecorderFooter from './parts/RecorderFooter.vue'\n\nconst macroRecorder = useMacroRecorderStore()\n</script>\n\n<style>\n@reference \"@/assets/main.css\";\n\n.macro-recorder {\n  @apply h-full;\n}\n\n.recorder-interface {\n  @apply grid\n  grid-rows-[auto_1fr_auto]\n  gap-4\n  h-full\n  transition-[grid-template-rows];\n}\n\n.recorder-interface__container {\n  @apply relative\n  w-full\n  rounded-lg\n  bg-slate-950/50\n  border\n  border-slate-600\n  overflow-auto\n  transition-colors;\n\n  &.record {\n    @apply border-rose-300  bg-rose-400/10;\n  }\n\n  &.edit {\n    @apply border-sky-300 bg-sky-900/10;\n  }\n}\n\n#macro-name {\n  @apply w-full\n  bg-transparent\n  py-0\n  outline-0\n  border-transparent\n  border-b-slate-300\n  focus:border-transparent\n  focus:border-b-sky-400\n  focus:bg-sky-400/10\n  transition-colors\n  text-lg\n  rounded-none;\n}\n\n.disabled {\n  @apply opacity-50 pointer-events-none cursor-not-allowed;\n}\n</style>\n"],"names":["IconAlarm","createVueComponent","IconArrowLeftCircle","IconArrowRightCircle","IconLoader3","IconPlus","IconRestore","IconTimeDuration15","IconPlayerRecordFilled","IconPlayerStopFilled","keyMap","filterKey","e","k","mediaPrefix","isRepeat","lastStep","direction","invalidMacro","steps","downKeys","upKeys","stepKey","step","translateJSON","json","codeToStep","code","key","location","codeStr","stepObj","useMacroRecorderStore","defineStore","state","ref","macroName","delay","getEditKey","getAdjacentKey","pos","includeDelay","returnVal","mod","keyIndex","delayIndex","getEditDelay","recordStep","stepVal","recordDelay","insertKey","adjacentDelayIndex","min","max","newKeyIndex","newDelayIndex","i","deleteEditKey","restartDelay","changeName","name","changeDelay","fixed","formatDelays","toggleEdit","type","resetEdit","axios","appUrl","macroFilename","resp","macroFileName","openResp","macros","reactive","macroRecorder","macroToBeDeleted","deleteDialog","onMounted","loadMacroList","list","GetMacroList","startDelete","deleteMacro","props","__props","dir","setDirection","onUpdated","macroInput","__expose","toggle","menuOpen","ctxtMenu","num","editable","newKeyInput","handleNewKey","handleNewDirection","changeKey","keyObj","keyObjs","insertKeyInput","inputFocus","adjacentKey","handleInsertKey","insert","mutation","onOpenDialog","onCloseDialog","computed","nameSet","errors","errorDialog","overwriteDialog","startCheck","saveMacro"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}