{"version":3,"file":"MacrosView-qnUNtUm0.js","sources":["../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconAlarm.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconArrowLeftCircle.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconArrowRightCircle.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconPencil.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlus.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconRestore.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconTrash.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconAlarmFilled.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlayerRecordFilled.mjs","../../fe/node_modules/@tabler/icons-vue/dist/esm/icons/IconPlayerStopFilled.mjs","../../fe/src/services/MacroRecordService.js","../../fe/src/stores/macrorecorder.js","../../fe/src/components/macros/components/MacroKey.vue","../../fe/src/components/macros/parts/RecorderOutput.vue","../../fe/src/components/macros/parts/RecorderInput.vue","../../fe/src/components/base/ButtonComp.vue","../../fe/src/components/base/ContextMenu.vue","../../fe/src/components/base/DialogComp.vue","../../fe/src/components/macros/components/FixedDelayMenu.vue","../../fe/src/components/macros/components/EditKeyDialog.vue","../../fe/src/components/macros/components/EditDelayDialog.vue","../../fe/src/components/macros/components/DeleteKeyDialog.vue","../../fe/src/components/macros/parts/EditDialogs.vue","../../fe/src/components/macros/parts/RecorderHeader.vue","../../fe/src/components/macros/parts/RecorderFooter.vue","../../fe/src/components/macros/MacroRecorder.vue","../../fe/src/views/MacrosView.vue"],"sourcesContent":["/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconAlarm = createVueComponent(\"outline\", \"alarm\", \"IconAlarm\", [[\"path\", { \"d\": \"M12 13m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 10l0 3l2 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M7 4l-2.75 2\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M17 4l2.75 2\", \"key\": \"svg-3\" }]]);\n\nexport { IconAlarm as default };\n//# sourceMappingURL=IconAlarm.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconArrowLeftCircle = createVueComponent(\"outline\", \"arrow-left-circle\", \"IconArrowLeftCircle\", [[\"path\", { \"d\": \"M17 12h-14\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M6 9l-3 3l3 3\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M19 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-2\" }]]);\n\nexport { IconArrowLeftCircle as default };\n//# sourceMappingURL=IconArrowLeftCircle.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconArrowRightCircle = createVueComponent(\"outline\", \"arrow-right-circle\", \"IconArrowRightCircle\", [[\"path\", { \"d\": \"M18 15l3 -3l-3 -3\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M5 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M7 12h14\", \"key\": \"svg-2\" }]]);\n\nexport { IconArrowRightCircle as default };\n//# sourceMappingURL=IconArrowRightCircle.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPencil = createVueComponent(\"outline\", \"pencil\", \"IconPencil\", [[\"path\", { \"d\": \"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M13.5 6.5l4 4\", \"key\": \"svg-1\" }]]);\n\nexport { IconPencil as default };\n//# sourceMappingURL=IconPencil.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlus = createVueComponent(\"outline\", \"plus\", \"IconPlus\", [[\"path\", { \"d\": \"M12 5l0 14\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M5 12l14 0\", \"key\": \"svg-1\" }]]);\n\nexport { IconPlus as default };\n//# sourceMappingURL=IconPlus.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconRestore = createVueComponent(\"outline\", \"restore\", \"IconRestore\", [[\"path\", { \"d\": \"M3.06 13a9 9 0 1 0 .49 -4.087\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M3 4.001v5h5\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-2\" }]]);\n\nexport { IconRestore as default };\n//# sourceMappingURL=IconRestore.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconTrash = createVueComponent(\"outline\", \"trash\", \"IconTrash\", [[\"path\", { \"d\": \"M4 7l16 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M10 11l0 6\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M14 11l0 6\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3\", \"key\": \"svg-4\" }]]);\n\nexport { IconTrash as default };\n//# sourceMappingURL=IconTrash.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconAlarmFilled = createVueComponent(\"filled\", \"alarm-filled\", \"IconAlarmFilled\", [[\"path\", { \"d\": \"M16 6.072a8 8 0 1 1 -11.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-4 2.928a1 1 0 0 0 -1 1v3l.007 .117a1 1 0 0 0 .993 .883h2l.117 -.007a1 1 0 0 0 .883 -.993l-.007 -.117a1 1 0 0 0 -.993 -.883h-1v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M6.412 3.191a1 1 0 0 1 1.273 1.539l-.097 .08l-2.75 2a1 1 0 0 1 -1.273 -1.54l.097 -.08l2.75 -2z\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M16.191 3.412a1 1 0 0 1 1.291 -.288l.106 .067l2.75 2a1 1 0 0 1 -1.07 1.685l-.106 -.067l-2.75 -2a1 1 0 0 1 -.22 -1.397z\", \"key\": \"svg-2\" }]]);\n\nexport { IconAlarmFilled as default };\n//# sourceMappingURL=IconAlarmFilled.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlayerRecordFilled = createVueComponent(\"filled\", \"player-record-filled\", \"IconPlayerRecordFilled\", [[\"path\", { \"d\": \"M8 5.072a8 8 0 1 1 -3.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 3.995 -6.643z\", \"key\": \"svg-0\" }]]);\n\nexport { IconPlayerRecordFilled as default };\n//# sourceMappingURL=IconPlayerRecordFilled.mjs.map\n","/**\n * @license @tabler/icons-vue v3.30.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createVueComponent from '../createVueComponent.mjs';\n\nvar IconPlayerStopFilled = createVueComponent(\"filled\", \"player-stop-filled\", \"IconPlayerStopFilled\", [[\"path\", { \"d\": \"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z\", \"key\": \"svg-0\" }]]);\n\nexport { IconPlayerStopFilled as default };\n//# sourceMappingURL=IconPlayerStopFilled.mjs.map\n","const keyMap = {\r\n  // Modifier keys\r\n  Control: 'Ctrl',\r\n  Shift: 'Shift',\r\n  Alt: 'Alt',\r\n  Meta: 'Win',\r\n  CapsLock: 'Caps',\r\n  // Special keys\r\n  PageUp: 'PgUp',\r\n  PageDown: 'PgDn',\r\n  ScrollLock: 'Scr Lk',\r\n  Insert: 'Ins',\r\n  Delete: 'Del',\r\n  Escape: 'Esc',\r\n  Space: 'Space',\r\n  // Symbol keys\r\n  Backquote: '`',\r\n  Backslash: '\\\\',\r\n  BracketLeft: '[',\r\n  BracketRight: ']',\r\n  Comma: ',',\r\n  Equal: '=',\r\n  Minus: '-',\r\n  Period: '.',\r\n  Quote: \"'\",\r\n  Semicolon: ';',\r\n  Slash: '/',\r\n  // Arrow keys\r\n  ArrowUp: '&#9650;',\r\n  ArrowRight: '&#9654;',\r\n  ArrowDown: '&#9660;',\r\n  ArrowLeft: '&#9664;',\r\n  // Media keys\r\n  MediaPlayPause: 'Play',\r\n  MediaStop: 'Stop',\r\n  MediaTrackNext: 'Next',\r\n  MediaTrackPrevious: 'Prev',\r\n  MediaVolumeDown: 'Down',\r\n  MediaVolumeUp: 'Up',\r\n  AudioVolumeMute: 'Mute',\r\n  AudioVolumeDown: 'Down',\r\n  AudioVolumeUp: 'Up',\r\n}\r\n\r\n/**\r\n * Filters a keyboard event and returns an object with two properties:\r\n * loc (optional) and str.\r\n * loc is the location of the key (either 'left', 'right', or 'num').\r\n * str is the string representation of the key (e.g. 'a', 'A', 'Enter', etc.).\r\n * If the key is a modifier key, it is represented by its name (e.g. 'Ctrl', 'Shift', etc.).\r\n * If the key is not a modifier key, it is represented by its character (e.g. 'a', 'A', etc.).\r\n * If the key is not a character key, it is represented by its symbol (e.g. ',', '.', etc.).\r\n * @param {KeyboardEvent} e - The keyboard event to filter.\r\n * @return {Object} An object with two properties: loc (optional) and str.\r\n */\r\nexport const filterKey = (e) => {\r\n  const k = {} // Object k (key)\r\n\r\n  // If location is set, set loc (location)\r\n  if (e.location === 1) k.loc = 'left'\r\n  if (e.location === 2) k.loc = 'right'\r\n  if (e.location === 3) k.loc = 'num'\r\n\r\n  if (e.key.includes('Media') || e.key.includes('Audio')) k.loc = mediaPrefix(e)\r\n\r\n  // If code is in keyMap, set str by code\r\n  if (keyMap[e.code] || keyMap[e.key]) {\r\n    k.str = keyMap[e.code] || keyMap[e.key]\r\n  } else {\r\n    // If code is not in keyMap, set str by e.key\r\n    k.str = e.key.toLowerCase()\r\n  }\r\n\r\n  // return k object\r\n  return k\r\n}\r\n\r\n/**\r\n * Returns a string prefix for the given media key.\r\n * @param {KeyboardEvent} e - The keyboard event to get the prefix for.\r\n * @return {string} The prefix for the key (either 'Media' or 'Volume').\r\n */\r\nconst mediaPrefix = (e) => {\r\n  switch (e.key) {\r\n    case 'MediaPlayPause':\r\n    case 'MediaStop':\r\n    case 'MediaTrackNext':\r\n    case 'MediaTrackPrevious':\r\n      return 'Media'\r\n    case 'MediaVolumeDown':\r\n    case 'MediaVolumeUp':\r\n    case 'AudioVolumeDown':\r\n    case 'AudioVolumeUp':\r\n    case 'AudioVolumeMute':\r\n      return 'Volume'\r\n  }\r\n}\r\n\r\nexport const isRepeat = (lastStep, e, direction) => {\r\n  return (\r\n    lastStep &&\r\n    lastStep.type === 'key' &&\r\n    lastStep.code === e.code &&\r\n    lastStep.direction === direction\r\n  )\r\n}\r\n","import { ref, computed } from 'vue'\r\nimport { defineStore } from 'pinia'\r\n\r\nimport { filterKey, isRepeat } from '../services/MacroRecordService'\r\n\r\nexport const useMacroRecorderStore = defineStore('macrorecorder', () => {\r\n  // Properties - State values\r\n  const state = ref({\r\n    record: false,\r\n    edit: false,\r\n    editKey: false,\r\n    editDelay: false,\r\n  })\r\n\r\n  const steps = ref([])\r\n\r\n  const delay = ref({\r\n    start: 0,\r\n    fixed: false,\r\n  })\r\n\r\n  // Getters - Computed values\r\n  const getEditKey = () => steps.value[state.value.editKey]\r\n  const getEditDelay = () => steps.value[state.value.editDelay]\r\n\r\n  // Setters - Actions\r\n  const recordStep = (e, direction = false, key = false) => {\r\n    const lastStep = steps.value[steps.value.length - 1]\r\n\r\n    let stepVal = {}\r\n\r\n    if (typeof e === 'object' && !isRepeat(lastStep, e, direction)) {\r\n      if (key === false) recordDelay()\r\n\r\n      stepVal = {\r\n        type: 'key',\r\n        key: e.key,\r\n        code: e.code,\r\n        location: e.location,\r\n        direction: direction,\r\n        keyObj: filterKey(e),\r\n      }\r\n    } else if (direction && key !== false) {\r\n      stepVal = steps.value[key]\r\n      stepVal.direction = direction\r\n    } else if (typeof e === 'number') {\r\n      stepVal = { type: 'delay', value: parseFloat(e.toFixed()) }\r\n    }\r\n\r\n    if (key !== false) steps.value[key] = stepVal\r\n    else steps.value.push(stepVal)\r\n  }\r\n\r\n  const recordDelay = () => {\r\n    if (delay.value.fixed !== false)\r\n      recordStep(delay.value.fixed) // Record fixed delay\r\n    else if (delay.value.start == 0)\r\n      delay.value.start = performance.now() // Record start of delay\r\n    else {\r\n      recordStep(performance.now() - delay.value.start) // Record end of delay\r\n      delay.value.start = performance.now() // Reset start\r\n    }\r\n  }\r\n\r\n  const deleteEditKey = () => {\r\n    steps.value.splice(state.value.editKey, 2)\r\n    state.value.editKey = false\r\n  }\r\n\r\n  const restartDelay = () => {\r\n    delay.value.start = performance.now()\r\n  }\r\n\r\n  const changeDelay = (fixed) => {\r\n    delay.value.fixed = fixed\r\n\r\n    formatDelays()\r\n  }\r\n\r\n  const formatDelays = () => {\r\n    steps.value = steps.value.map((step) => {\r\n      if (step.type === 'delay' && delay.value.fixed !== false) step.value = delay.value.fixed\r\n      return step\r\n    })\r\n  }\r\n\r\n  const toggleEdit = (type, key) => {\r\n    if (type === 'key') {\r\n      state.value.editKey = key\r\n      state.value.editDelay = false\r\n    }\r\n\r\n    if (type === 'delay') {\r\n      state.value.editKey = false\r\n      state.value.editDelay = key\r\n    }\r\n  }\r\n\r\n  const resetEdit = () => {\r\n    state.value.edit = false\r\n    state.value.editKey = false\r\n    state.value.editDelay = false\r\n  }\r\n\r\n  const reset = () => {\r\n    state.value.record = false\r\n    steps.value = []\r\n\r\n    if (state.value.edit) resetEdit()\r\n  }\r\n\r\n  return {\r\n    state,\r\n    steps,\r\n    delay,\r\n    getEditKey,\r\n    getEditDelay,\r\n    recordStep,\r\n    deleteEditKey,\r\n    restartDelay,\r\n    changeDelay,\r\n    toggleEdit,\r\n    resetEdit,\r\n    reset,\r\n  }\r\n})\r\n","<template>\r\n  <kbd :class=\"active ? 'active' : ''\">\r\n    <sup v-if=\"keyObj.loc\">\r\n      {{ keyObj.loc }}\r\n    </sup>\r\n    <span :innerHTML=\"keyObj.str\" />\r\n    <span class=\"dir\">{{ dir.value === 'down' ? '&darr;' : '&uarr;' }}</span>\r\n  </kbd>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive } from 'vue'\r\n\r\nconst props = defineProps({\r\n  keyObj: Object,\r\n  direction: String,\r\n  active: Boolean,\r\n})\r\n\r\nconst dir = reactive({\r\n  value: false,\r\n})\r\n\r\nonMounted(() => {\r\n  if (props.direction) dir.value = props.direction\r\n  else dir.value = props.keyObj.direction\r\n})\r\n</script>\r\n\r\n<style>\r\n@reference \"@/assets/main.css\";\r\n\r\nkbd {\r\n  @apply flex \r\n  items-center\r\n  gap-2\r\n  pl-4 pr-2 py-1 \r\n  h-9 \r\n  bg-slate-700\r\n  font-sans\r\n  font-bold\r\n  text-lg\r\n  text-white\r\n  uppercase\r\n  rounded-md \r\n  border\r\n  border-slate-500\r\n  transition-all\r\n  shadow-slate-500;\r\n  box-shadow: 0 0.2rem 0 0.2rem var(--tw-shadow-color);\r\n\r\n  &:has(sup) {\r\n    @apply pl-2;\r\n  }\r\n\r\n  sup {\r\n    @apply text-slate-200 text-xs font-light mt-1;\r\n  }\r\n\r\n  span.dir {\r\n    @apply text-slate-200 pl-1;\r\n  }\r\n}\r\n\r\n:has(kdb):not(.edit) kbd {\r\n  @apply pointer-events-none cursor-default;\r\n}\r\n\r\n.edit kbd {\r\n  @apply cursor-pointer pointer-events-auto;\r\n\r\n  &:hover,\r\n  &.active {\r\n    @apply bg-sky-900 border-sky-400 shadow-sky-700;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    :class=\"`macro-recorder__output ${macroRecorder.state.record && 'record'} ${macroRecorder.state.edit && 'edit'}`\"\r\n  >\r\n    <template v-for=\"(step, key) in macroRecorder.steps\">\r\n      <!-- Key element -->\r\n      <template v-if=\"step.type === 'key'\">\r\n        <MacroKey\r\n          :key=\"key\"\r\n          :key-obj=\"step.keyObj\"\r\n          :direction=\"step.direction\"\r\n          :active=\"macroRecorder.state.editKey === key\"\r\n          @click=\"macroRecorder.state.edit ? macroRecorder.toggleEdit('key', key) : false\"\r\n        />\r\n      </template>\r\n\r\n      <!-- Delay element -->\r\n      <template v-else-if=\"step.type === 'delay'\">\r\n        <span\r\n          :key=\"key\"\r\n          :class=\"`delay ${macroRecorder.state.editDelay === key ? 'active' : ''}`\"\r\n          @click=\"macroRecorder.toggleEdit('delay', key)\"\r\n        >\r\n          {{ step.value < 10000 ? step.value + 'ms' : '>10s' }}\r\n        </span>\r\n      </template>\r\n\r\n      <!-- Spacer element -->\r\n      <hr class=\"spacer\" />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport MacroKey from '../components/MacroKey.vue'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\n.macro-recorder__output {\r\n  @apply flex\r\n  flex-wrap\r\n  items-center\r\n  gap-y-4\r\n  p-4\r\n  absolute\r\n  top-0 left-0\r\n  h-fit;\r\n\r\n  &.edit {\r\n    kbd,\r\n    span.delay {\r\n      @apply cursor-pointer;\r\n    }\r\n\r\n    /* kbd:hover,\r\n    kbd.active {\r\n      @apply bg-sky-900 border-sky-400 shadow-sky-700;\r\n    } */\r\n\r\n    span.delay:hover,\r\n    span.delay.active {\r\n      @apply bg-lime-700 border-lime-500 text-lime-200;\r\n    }\r\n  }\r\n\r\n  hr.spacer {\r\n    @apply relative\r\n    w-6\r\n    border \r\n    border-gray-300\r\n    opacity-80\r\n    overflow-visible;\r\n\r\n    &::before,\r\n    &::after {\r\n      @apply content-['']\r\n      absolute\r\n      top-1/2\r\n      -translate-y-1/2\r\n      size-2\r\n      bg-gray-300\r\n      rounded-full;\r\n    }\r\n\r\n    &::before {\r\n      @apply -left-1;\r\n    }\r\n\r\n    &::after {\r\n      @apply -right-1;\r\n    }\r\n\r\n    &:last-of-type {\r\n      @apply hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div :class=\"`recorder-input__container ${macroRecorder.state.record && 'record'}`\">\r\n    <input\r\n      v-if=\"macroRecorder.state.record\"\r\n      :class=\"`macro-recorder__input ${macroRecorder.state.record && 'record'}`\"\r\n      type=\"text\"\r\n      ref=\"macroInput\"\r\n      @focus=\"console.log('focus')\"\r\n      @keydown.prevent=\"macroRecorder.recordStep($event, 'down')\"\r\n      @keyup.prevent=\"macroRecorder.recordStep($event, 'up')\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport { ref, onUpdated } from 'vue'\r\n\r\nconst macroInput = ref(null)\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nonUpdated(() => {\r\n  if (macroRecorder.state.record) {\r\n    macroInput.value.focus()\r\n    if (macroRecorder.delay.start !== 0) macroRecorder.restartDelay()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\n.recorder-input__container,\r\n.macro-recorder__input {\r\n  @apply absolute\r\n    inset-0\r\n    size-full\r\n    opacity-0\r\n    hidden;\r\n\r\n  &.record {\r\n    @apply block;\r\n  }\r\n}\r\n</style>\r\n","<template>\n  <template v-if=\"href\">\n    <a :href=\"href\" :class=\"`button ${classString}`\">\n      <slot />\n    </a>\n  </template>\n  <template v-else>\n    <button :class=\"`button ${classString}`\">\n      <slot />\n    </button>\n  </template>\n</template>\n\n<script setup>\nimport { computed, onMounted } from 'vue'\n\nconst props = defineProps({\n  href: String,\n  variant: String,\n  size: String,\n})\n\nconst classString = computed(() => {\n  const classes = {\n    'bg-sky-500/80 hover:bg-sky-400 text-white border-sky-400': props.variant === 'primary',\n    'bg-white/80 hover:bg-white text-slate-900 border-white': props.variant === 'secondary',\n    'bg-red-700/80 hover:bg-red-700 text-white border-red-800': props.variant === 'danger',\n    'bg-slate-700/80 hover:bg-slate-700 text-white border-slate-600': props.variant === 'dark',\n    'bg-lime-500/80 hover:bg-lime-500 text-white border-lime-600': props.variant === 'success',\n    'button__subtle bg-transparent hover:bg-white/10 text-white border-transparent':\n      props.variant === 'subtle',\n    'button__ghost bg-transparent text-white/80 border-transparent hover:text-white':\n      props.variant === 'ghost',\n    'button__lg px-5 py-3 text-lg gap-4': props.size === 'lg',\n    'button__sm px-3 py-1.5 text-sm gap-2': props.size === 'sm',\n    'px-4 py-2 gap-3': props.size !== 'sm' && props.size !== 'lg',\n  }\n  return Object.keys(classes)\n    .filter((key) => classes[key])\n    .join(' ')\n})\n</script>\n\n<style>\n@reference \"@/assets/main.css\";\n\nbutton,\n.button {\n  @apply flex \n  items-center \n  h-fit \n  border\n  rounded-lg\n  font-semibold\n  shadow-md\n  shadow-transparent\n  transition\n  cursor-pointer;\n\n  &:not(.button__subtle, .button__ghost):hover {\n    @apply shadow-black;\n  }\n\n  svg {\n    @apply size-5 stroke-1;\n  }\n\n  &.button__sm svg {\n    @apply size-4;\n  }\n\n  &.button__lg svg {\n    @apply size-6;\n  }\n}\n</style>\n","<template>\r\n  <div class=\"context-menu\">\r\n    <div class=\"context-menu__trigger\" @click=\"menuOpen = !menuOpen\">\r\n      <slot name=\"trigger\" />\r\n    </div>\r\n    <div :class=\"`context-menu__content ${menuOpen ? 'open' : ''}`\">\r\n      <slot name=\"content\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst props = defineProps({\r\n  open: Boolean,\r\n})\r\n\r\nconst menuOpen = ref(false)\r\n\r\nonMounted(() => {\r\n  menuOpen.value = props.open\r\n})\r\n</script>\r\n\r\n<style>\r\n@reference \"@/assets/main.css\";\r\n\r\n.context-menu {\r\n  @apply relative;\r\n\r\n  .context-menu__content {\r\n    @apply absolute\r\n    top-full\r\n    -translate-y-full\r\n    opacity-0\r\n    pointer-events-none\r\n    mt-2\r\n    min-w-full\r\n    grid\r\n    border\r\n    border-white/50\r\n    bg-slate-100/60\r\n    backdrop-blur-3xl\r\n    text-slate-800\r\n    rounded-md\r\n    z-50\r\n    transition-all;\r\n\r\n    &.open {\r\n      @apply translate-y-0\r\n      opacity-100\r\n      pointer-events-auto;\r\n    }\r\n  }\r\n}\r\n\r\nul {\r\n  @apply text-slate-800\r\n  divide-y\r\n  divide-slate-300;\r\n\r\n  li {\r\n    @apply flex\r\n    gap-2\r\n    items-center\r\n    p-2\r\n    hover:bg-black/10\r\n    cursor-pointer;\r\n\r\n    svg {\r\n      @apply size-5;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"dialog-container\">\r\n    <div class=\"trigger\" @click=\"toggleDialog(true)\">\r\n      <slot name=\"trigger\" />\r\n    </div>\r\n    <dialog ref=\"dialog\">\r\n      <ButtonComp\r\n        class=\"dialog__close p-0\"\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        tabindex=\"-1\"\r\n        @click=\"toggleDialog(false)\"\r\n      >\r\n        <IconX />\r\n      </ButtonComp>\r\n      <slot name=\"content\" />\r\n    </dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ButtonComp from './ButtonComp.vue'\r\nimport { IconX } from '@tabler/icons-vue'\r\nimport { onMounted, onUpdated, ref } from 'vue'\r\n\r\nconst dialog = ref(null)\r\nconst openDialog = ref()\r\n\r\nconst emit = defineEmits(['onOpen', 'onClose', 'onToggle'])\r\n\r\nconst props = defineProps({\r\n  open: Boolean,\r\n})\r\n\r\nonMounted(() => {\r\n  console.log('onmounted', props.open)\r\n\r\n  toggleDialog(props.open)\r\n})\r\n\r\nonUpdated(() => {\r\n  console.log('onupdated', props.open)\r\n\r\n  // toggleDialog(props.open)\r\n})\r\n\r\nconst toggleDialog = (openToggle) => {\r\n  if (openToggle) {\r\n    dialog.value.showModal()\r\n    emit('onOpen')\r\n  } else {\r\n    dialog.value.close()\r\n    emit('onClose')\r\n  }\r\n\r\n  openDialog.value = openToggle\r\n  emit('onToggle')\r\n}\r\n\r\nonMounted(() => {\r\n  openDialog.value = props.open\r\n\r\n  if (dialog.value.innerHTML.includes('form')) {\r\n    dialog.value.querySelector('form').addEventListener('submit', () => {\r\n      toggleDialog()\r\n    })\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\n.dialog-container {\r\n  @apply relative;\r\n\r\n  dialog {\r\n    @apply fixed\r\n    top-1/2 left-1/2\r\n    -translate-x-1/2 -translate-y-1/2\r\n    p-4\r\n    bg-slate-800\r\n    border\r\n    border-slate-600\r\n    rounded-lg\r\n    shadow-md\r\n    shadow-black \r\n    z-50\r\n    pointer-events-none;\r\n\r\n    &[open] {\r\n      @apply pointer-events-auto;\r\n    }\r\n\r\n    &::backdrop {\r\n      @apply bg-black/50 backdrop-blur-xs transition;\r\n    }\r\n\r\n    .dialog__close {\r\n      @apply absolute\r\n      top-2 right-2\r\n      p-0\r\n      text-white;\r\n\r\n      svg {\r\n        @apply size-5;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <ContextMenu>\r\n    <template #trigger>\r\n      <ButtonComp variant=\"secondary\" size=\"sm\"> <IconAlarmFilled />Fixed delay </ButtonComp>\r\n    </template>\r\n    <template #content>\r\n      <ul>\r\n        <li @click=\"macroRecorder.changeDelay(0)\">0ms</li>\r\n        <li @click=\"macroRecorder.changeDelay(15)\">15ms</li>\r\n        <li @click=\"macroRecorder.changeDelay(50)\">50ms</li>\r\n        <li @click=\"macroRecorder.changeDelay(100)\">100ms</li>\r\n        <li>\r\n          <DialogComp>\r\n            <template #trigger>\r\n              <span>Custom delay</span>\r\n            </template>\r\n\r\n            <template #content>\r\n              <h4 class=\"text-slate-50 mb-4\">Custom delay</h4>\r\n              <form\r\n                class=\"grid gap-4 w-44\"\r\n                @submit.prevent=\"macroRecorder.changeDelay(parseInt($refs.customDelayInput.value))\"\r\n              >\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"10\"\r\n                    min=\"0\"\r\n                    max=\"3600000\"\r\n                    ref=\"customDelayInput\"\r\n                    placeholder=\"100\"\r\n                  />\r\n                  <span>ms</span>\r\n                </div>\r\n                <div class=\"flex justify-end\">\r\n                  <ButtonComp variant=\"primary\" size=\"sm\">Set custom delay</ButtonComp>\r\n                </div>\r\n              </form>\r\n            </template>\r\n          </DialogComp>\r\n        </li>\r\n      </ul>\r\n    </template>\r\n  </ContextMenu>\r\n</template>\r\n\r\n<script setup>\r\nimport ContextMenu from '@/components/base/ContextMenu.vue'\r\nimport { IconAlarmFilled } from '@tabler/icons-vue'\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport DialogComp from '@/components/base/DialogComp.vue'\r\n\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\n\r\nimport { ref } from 'vue'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nconst delayMenu = ref(false)\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n</style>\r\n","<template>\r\n  <div id=\"edit-key-dialog\" class=\"dialog__content\">\r\n    <h4 class=\"text-slate-50 mb-4\">Press a key</h4>\r\n    <div class=\"flex justify-center\" @click=\"$refs.newKeyInput.focus()\">\r\n      <MacroKey\r\n        v-if=\"editable.key.keyObj\"\r\n        :key-obj=\"editable.key.keyObj\"\r\n        :direction=\"editable.key.direction\"\r\n      />\r\n\r\n      <template v-if=\"typeof editable.newKey.keyObj === 'object'\">\r\n        <span class=\"px-4 flex items-center text-white\"> >>> </span>\r\n        <MacroKey :key-obj=\"editable.newKey.keyObj\" :direction=\"editable.newKey.direction\" />\r\n      </template>\r\n    </div>\r\n    <form class=\"grid gap-4\" submit.prevent>\r\n      <input\r\n        class=\"size-0 opacity-0\"\r\n        type=\"text\"\r\n        min=\"0\"\r\n        max=\"1\"\r\n        ref=\"newKeyInput\"\r\n        placeholder=\"New key\"\r\n        autofocus\r\n        @keydown.prevent=\"handleNewKey($event)\"\r\n      />\r\n      <div class=\"flex gap-2 justify-center\">\r\n        <ButtonComp\r\n          variant=\"secondary\"\r\n          :class=\"editable.newKey.direction === 'down' ? 'selected' : ''\"\r\n          size=\"sm\"\r\n          @click.prevent=\"handleNewDirection('down')\"\r\n        >\r\n          &darr; Down\r\n        </ButtonComp>\r\n        <ButtonComp\r\n          variant=\"secondary\"\r\n          :class=\"editable.newKey.direction === 'up' ? 'selected' : ''\"\r\n          size=\"sm\"\r\n          @click.prevent=\"handleNewDirection('up')\"\r\n        >\r\n          &uarr; Up\r\n        </ButtonComp>\r\n      </div>\r\n      <div class=\"flex justify-end\">\r\n        <ButtonComp variant=\"primary\" size=\"sm\" @click.prevent=\"changeKey()\">\r\n          Change key\r\n        </ButtonComp>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MacroKey from './MacroKey.vue'\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport { filterKey } from '@/services/MacroRecordService'\r\n\r\nimport { reactive, ref, onMounted } from 'vue'\r\n\r\nconst editable = reactive({\r\n  key: {},\r\n  newKey: {},\r\n})\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nconst newKeyInput = ref(null)\r\n\r\nonMounted(() => {\r\n  editable.key = macroRecorder.getEditKey()\r\n  editable.newKey.direction = editable.key.direction\r\n})\r\n\r\nconst handleNewKey = (e) => {\r\n  editable.newKey.e = e\r\n  editable.newKey.keyObj = filterKey(e)\r\n}\r\n\r\nconst handleNewDirection = (direction) => {\r\n  editable.newKey.direction = direction\r\n  editable.newKey.keyObj = filterKey(editable.key)\r\n}\r\n\r\nconst changeKey = () => {\r\n  macroRecorder.recordStep(\r\n    editable.newKey.e,\r\n    editable.newKey.direction,\r\n    macroRecorder.state.editKey,\r\n  )\r\n\r\n  macroRecorder.state.editKey = false\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\nbutton.selected {\r\n  @apply ring-2 ring-offset-1 ring-sky-500 bg-sky-500;\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"edit-delay-dialog\" class=\"dialog__content\">\r\n    <h4 class=\"text-slate-50 mb-4\">Edit delay</h4>\r\n    <div v-if=\"editable.delay.value\" class=\"flex justify-center\">\r\n      <span class=\"delay !text-lg\"> {{ editable.delay.value }}ms </span>\r\n    </div>\r\n    <form class=\"grid gap-4 mt-6\" submit.prevent>\r\n      <div v-if=\"editable.newDelay.value\">\r\n        <input\r\n          type=\"number\"\r\n          min=\"0\"\r\n          max=\"3600000\"\r\n          step=\"10\"\r\n          v-model=\"editable.newDelay.value\"\r\n          autofocus\r\n        />\r\n        <span>ms</span>\r\n      </div>\r\n      <div class=\"flex justify-end\">\r\n        <ButtonComp variant=\"primary\" size=\"sm\" @click.prevent=\"changeDelay()\">\r\n          Change delay\r\n        </ButtonComp>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport { reactive, onMounted } from 'vue'\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nconst editable = reactive({\r\n  delay: {},\r\n  newDelay: { value: 0 },\r\n})\r\n\r\nonMounted(() => {\r\n  editable.delay = macroRecorder.getEditDelay()\r\n  editable.newDelay.value = editable.delay.value\r\n  console.log(editable)\r\n})\r\n\r\nconst changeDelay = () => {\r\n  if (!editable.newDelay.value) return\r\n\r\n  macroRecorder.recordStep(editable.newDelay.value, false, macroRecorder.state.editDelay)\r\n  macroRecorder.state.editDelay = false\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n</style>\r\n","<template>\r\n  <div id=\"delete-key-dialog\" class=\"dialog__content\">\r\n    <h4 class=\"text-slate-50 mb-4\">Delete key</h4>\r\n    <div class=\"flex justify-center w-full mb-4\">\r\n      <MacroKey v-if=\"keyObj\" :key-obj=\"keyObj\" />\r\n    </div>\r\n    <p class=\"text-sm text-slate-300\">Are you sure you want to delete this key?</p>\r\n    <div class=\"flex justify-end gap-2 mt-6\">\r\n      <ButtonComp variant=\"danger\" size=\"sm\" @click=\"macroRecorder.deleteEditKey()\">\r\n        Delete key\r\n      </ButtonComp>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport { onMounted, ref } from 'vue'\r\nimport MacroKey from './MacroKey.vue'\r\nimport { filterKey } from '@/services/MacroRecordService'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nconst keyObj = ref(null)\r\n\r\nonMounted(() => {\r\n  keyObj.value = filterKey(macroRecorder.getEditKey())\r\n  console.log(keyObj.value)\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n</style>\r\n'\r\n","<template>\r\n  <div class=\"macro-edit__dialogs\" v-if=\"macroRecorder.state.edit !== false\">\r\n    <div\r\n      class=\"flex gap-2\"\r\n      v-if=\"macroRecorder.state.editKey !== false && typeof macroRecorder.getEditKey() === 'object'\"\r\n    >\r\n      <ContextMenu>\r\n        <template #trigger>\r\n          <ButtonComp variant=\"success\" size=\"sm\"> <IconPlus /> Insert key </ButtonComp>\r\n        </template>\r\n        <template #content>\r\n          <ul>\r\n            <li @click=\"insertPosition = 'before'\"><IconArrowLeftCircle /> Before</li>\r\n            <li @click=\"insertPosition = 'after'\"><IconArrowRightCircle /> After</li>\r\n          </ul>\r\n        </template>\r\n      </ContextMenu>\r\n      <DialogComp v-if=\"insertPosition !== null\" :open=\"true\" @on-close=\"insertPosition = null\">\r\n        <template #content>\r\n          <InsertKeyDialog :position=\"insertPosition\" />\r\n        </template>\r\n      </DialogComp>\r\n\r\n      <DialogComp>\r\n        <template #trigger>\r\n          <ButtonComp size=\"sm\" variant=\"danger\" @click=\"console.log('delete')\">\r\n            <IconTrash />Delete key\r\n          </ButtonComp>\r\n        </template>\r\n        <template #content>\r\n          <DeleteKeyDialog />\r\n        </template>\r\n      </DialogComp>\r\n      <DialogComp\r\n        :id=\"`edit-key-${macroRecorder.state.editKey}`\"\r\n        @on-close=\"macroRecorder.state.editKey = false\"\r\n      >\r\n        <template #trigger>\r\n          <ButtonComp variant=\"primary\" size=\"sm\"> <IconKeyboard />Edit key </ButtonComp>\r\n        </template>\r\n        <template #content>\r\n          <EditKeyDialog />\r\n        </template>\r\n      </DialogComp>\r\n    </div>\r\n    <DialogComp\r\n      v-if=\"\r\n        macroRecorder.state.editDelay !== false && typeof macroRecorder.getEditDelay() === 'object'\r\n      \"\r\n      @on-close=\"macroRecorder.state.editDelay = false\"\r\n    >\r\n      <template #trigger>\r\n        <ButtonComp variant=\"primary\" size=\"sm\"> <IconAlarm />Edit delay </ButtonComp>\r\n      </template>\r\n      <template #content>\r\n        <EditDelayDialog />\r\n      </template>\r\n    </DialogComp>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  IconAlarm,\r\n  IconArrowLeftCircle,\r\n  IconArrowRightCircle,\r\n  IconKeyboard,\r\n  IconPlus,\r\n  IconTrash,\r\n} from '@tabler/icons-vue'\r\nimport DialogComp from '@/components/base/DialogComp.vue'\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\n\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport EditKeyDialog from '../components/EditKeyDialog.vue'\r\nimport EditDelayDialog from '../components/EditDelayDialog.vue'\r\nimport DeleteKeyDialog from '../components/DeleteKeyDialog.vue'\r\nimport ContextMenu from '@/components/base/ContextMenu.vue'\r\nimport InsertKeyDialog from '../components/InsertKeyDialog.vue'\r\nimport { ref } from 'vue'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n\r\nconst insertPosition = ref(null)\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\n.macro-edit__dialogs {\r\n  @apply flex\r\n  flex-grow\r\n  justify-end;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"macro-recorder__header\">\r\n    <div :class=\"`recording__buttons ${macroRecorder.state.edit ? 'disabled' : ''}`\">\r\n      <ButtonComp\r\n        v-if=\"!macroRecorder.state.record\"\r\n        variant=\"primary\"\r\n        @click=\"macroRecorder.state.record = true\"\r\n      >\r\n        <IconPlayerRecordFilled class=\"text-red-500\" />Start recording\r\n      </ButtonComp>\r\n      <ButtonComp\r\n        v-if=\"macroRecorder.state.record\"\r\n        variant=\"danger\"\r\n        @click=\"macroRecorder.state.record = false\"\r\n      >\r\n        <IconPlayerStopFilled class=\"text-white\" />Stop recording\r\n      </ButtonComp>\r\n    </div>\r\n    <div :class=\"`edit__buttons ${macroRecorder.state.record ? 'disabled' : ''}`\">\r\n      <div>\r\n        <ButtonComp\r\n          v-if=\"!macroRecorder.state.edit\"\r\n          variant=\"secondary\"\r\n          @click=\"macroRecorder.state.edit = true\"\r\n        >\r\n          <IconPencil />Edit macro\r\n        </ButtonComp>\r\n        <ButtonComp\r\n          v-if=\"macroRecorder.state.edit\"\r\n          variant=\"dark\"\r\n          @click=\"macroRecorder.resetEdit()\"\r\n        >\r\n          <IconPlayerStopFilled />Stop editing\r\n        </ButtonComp>\r\n      </div>\r\n      <FixedDelayMenu v-if=\"macroRecorder.state.edit\" />\r\n      <EditDialogs />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { IconPencil, IconPlayerRecordFilled, IconPlayerStopFilled } from '@tabler/icons-vue'\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport FixedDelayMenu from '../components/FixedDelayMenu.vue'\r\n\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport EditDialogs from './EditDialogs.vue'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\n.macro-recorder__header {\r\n  @apply grid\r\n  grid-cols-[auto_1fr]\r\n  items-end\r\n  gap-4;\r\n\r\n  > div {\r\n    @apply flex gap-4 items-end;\r\n\r\n    &.disabled {\r\n      @apply opacity-50 pointer-events-none cursor-not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"macro-recorder__footer\">\r\n    <ButtonComp\r\n      v-if=\"macroRecorder.steps.length > 0\"\r\n      variant=\"danger\"\r\n      size=\"sm\"\r\n      @click=\"macroRecorder.reset()\"\r\n    >\r\n      <IconRestore /> Reset\r\n    </ButtonComp>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ButtonComp from '@/components/base/ButtonComp.vue'\r\nimport { IconRestore } from '@tabler/icons-vue'\r\n\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n</style>\r\n","<template>\r\n  <div class=\"macro-recorder\">\r\n    <!-- Recorder buttons -->\r\n    <RecorderHeader />\r\n\r\n    <!-- Recorder interface container -->\r\n    <div\r\n      :class=\"`recorder-interface__container ${macroRecorder.state.record && 'record'} ${macroRecorder.state.edit && 'edit'}`\"\r\n    >\r\n      <!-- Shows the macro steps as kbd elements with delay and spacers-->\r\n      <RecorderOutput />\r\n      <!-- Input for recording macro steps -->\r\n      <RecorderInput />\r\n    </div>\r\n\r\n    <RecorderFooter />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// TODO:\r\n// X refactor filtering the keys\r\n// X add keyup functionality\r\n// X add delay between steps\r\n// X restyle keys and delay elements\r\n// X add lines between steps\r\n// X record macro to object\r\n// X refactor macro output based on object?\r\n// X Make sure keydown is not spamming steps\r\n// X Make record button work as a toggle\r\n// X Make edit button work\r\n// X Make fixed/custom delay work\r\n// X Refactor into multiple components and state store\r\n// X Make edit key function\r\n// X Make edit delay function\r\n// X Make delete key function\r\n// X Make sure delay is paused when not recording.\r\n// X Refactor macro recorder parts.\r\n// X X Layout parts should be parts, smaller parts should be components.\r\n// X Make reset function\r\n// - Make insert button, menu and function\r\n\r\nimport RecorderOutput from './parts/RecorderOutput.vue'\r\nimport RecorderInput from './parts/RecorderInput.vue'\r\n\r\nimport { useMacroRecorderStore } from '@/stores/macrorecorder'\r\nimport RecorderHeader from './parts/RecorderHeader.vue'\r\nimport RecorderFooter from './parts/RecorderFooter.vue'\r\n\r\nconst macroRecorder = useMacroRecorderStore()\r\n</script>\r\n\r\n<style>\r\n@reference \"@/assets/main.css\";\r\n\r\n.recorder-interface__container {\r\n  @apply relative\r\n  w-full\r\n  h-96\r\n  my-4\r\n  rounded-lg\r\n  bg-slate-900/50\r\n  border-2\r\n  border-white/10\r\n  overflow-auto\r\n  transition-colors;\r\n\r\n  &.record {\r\n    @apply border-rose-300  bg-rose-950/50;\r\n  }\r\n\r\n  &.edit {\r\n    @apply border-sky-300 bg-sky-900/50;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"macros\" class=\"panel\">\r\n    <h1>Macros</h1>\r\n    <MacroRecorder />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport MacroRecorder from '../components/macros/MacroRecorder.vue'\r\nimport { onMounted, ref } from 'vue'\r\n\r\nconst recordMacro = ref(false)\r\n\r\nconst macroInput = ref(null)\r\n\r\nonMounted(() => {\r\n  // macroInput.value.focus()\r\n})\r\n\r\nconst keyDown = (e) => {\r\n  console.log(e)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@reference \"@/assets/main.css\";\r\n\r\ninput {\r\n  @apply border rounded-md bg-white/10 p-2;\r\n}\r\n</style>\r\n"],"names":["IconAlarm","createVueComponent","IconArrowLeftCircle","IconArrowRightCircle","IconPencil","IconPlus","IconRestore","IconTrash","IconAlarmFilled","IconPlayerRecordFilled","IconPlayerStopFilled","keyMap","filterKey","e","k","mediaPrefix","isRepeat","lastStep","direction","useMacroRecorderStore","defineStore","state","ref","steps","delay","getEditKey","getEditDelay","recordStep","key","stepVal","recordDelay","deleteEditKey","restartDelay","changeDelay","fixed","formatDelays","step","toggleEdit","type","resetEdit","props","__props","dir","reactive","onMounted","macroRecorder","macroInput","onUpdated","classString","computed","classes","menuOpen","dialog","openDialog","emit","__emit","toggleDialog","openToggle","editable","newKeyInput","handleNewKey","handleNewDirection","changeKey","keyObj","insertPosition"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}